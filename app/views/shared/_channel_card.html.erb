<%# Channel Card Component
    Provides consistent card layout for channels with loading state support

    Parameters:
    - channel: Hash - Channel data
    - loading: Boolean (optional) - Whether to show loading state
%>

<% if local_assigns[:loading] %>
  <div class="block bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
    <div class="relative pb-[56.25%] bg-gray-200 dark:bg-gray-700 rounded-t-lg animate-pulse"></div>

    <div class="p-4 animate-pulse">
      <%# Title skeleton %>
      <div class="h-5 w-3/4 bg-gray-200 dark:bg-gray-700 rounded mb-4"></div>

      <%# Metadata skeleton %>
      <div class="flex gap-2">
        <div class="h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"></div>
        <div class="hidden sm:block h-4 w-4 bg-gray-200 dark:bg-gray-700 rounded"></div>
        <div class="h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded"></div>
      </div>
    </div>
  </div>
<% else %>
  <%= link_to channel_path(channel[:channel_name]),
        class: "group block bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow" do %>
    <div class="relative pb-[56.25%]">
      <img src="<%= channel[:thumbnail_url] %>"
           alt="<%= channel[:title] %>"
           class="absolute inset-0 w-full h-full object-cover rounded-t-lg" />
    </div>

    <div class="p-4">
      <h3 class="text-base lg:text-lg font-medium mb-2 line-clamp-2 text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">
        <%= channel[:title] %>
      </h3>

      <div class="flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
        <span><%= pluralize(channel[:video_count], "video") %></span>
        <span class="hidden sm:inline mx-2 text-gray-400 dark:text-gray-600">â€¢</span>
        <span><%= number_with_delimiter(channel[:subscriber_count]) %> subscribers</span>
      </div>
    </div>
  <% end %>
<% end %>