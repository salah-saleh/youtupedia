<%# Channel Card Component
    Provides consistent card layout for channels with loading state support

    Parameters:
    - channel: Hash - Channel data
    - loading: Boolean (optional) - Whether to show loading state
%>

<% if local_assigns[:loading] %>
  <%= render "shared/card_skeleton" %>
<% else %>
  <%= render "shared/card",
        href: channel_path(channel[:channel_name]),
        link_data: { turbo_frame: "_top" } do %>
    <div class="relative bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center" style="padding-top: 56.25%">
      <div class="absolute inset-0 flex items-center justify-center">
        <div class="rounded-full bg-white/90 dark:bg-gray-900/60 shadow-xl ring-1 ring-gray-200 dark:ring-gray-700 p-2 md:p-3 lg:p-4">
          <%= image_tag channel[:thumbnail_url],
                alt: channel[:title],
                class: "w-28 h-28 md:w-32 md:h-32 lg:w-36 lg:h-36 rounded-full object-cover ring-2 ring-white dark:ring-gray-900 shadow-md transition-transform duration-200 group-hover:scale-105" %>
        </div>
      </div>
    </div>

    <div class="p-4">
      <h3 class="text-base lg:text-lg font-medium mb-2 line-clamp-2 text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">
        <%= channel[:title] %>
      </h3>

      <div class="flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
        <span><%= pluralize(channel[:video_count], "video") %></span>
        <span class="hidden sm:inline mx-2 text-gray-400 dark:text-gray-600">â€¢</span>
        <span><%= number_with_delimiter(channel[:subscriber_count]) %> subscribers</span>
      </div>
    </div>
  <% end %>
<% end %>